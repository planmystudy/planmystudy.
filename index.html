<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>PlanMyStudy</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f3f4f6;
      margin: 0;
      padding: 0;
    }
    .container {
      max-width: 550px;
      margin: 30px auto;
      background: white;
      padding: 20px;
      border-radius: 10px;
    }
    h1 {
      text-align: center;
      color: #111827;
    }
    p {
      text-align: center;
      color: #4b5563;
    }
    label {
      font-weight: bold;
      margin-top: 15px;
      display: block;
    }
    input, select, button {
      width: 100%;
      padding: 12px;
      margin-top: 8px;
      font-size: 16px;
    }
    button {
      background: #10b981;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      margin-top: 20px;
    }
    button:hover {
      background: #059669;
    }
    .result {
      margin-top: 25px;
      background: #ecfdf5;
      padding: 15px;
      border-radius: 8px;
      white-space: pre-line;
    }
  </style>
</head>

<body>

<div class="container">
  <h1>üìö PlanMyStudy</h1>
  <p>Un planning de r√©vision adapt√© √† ton examen et √† ton √©tat mental</p>

  <label>Mati√®res √† r√©viser</label>
  <input id="subjects" type="text" placeholder="Ex : Maths, Droit, Physique">

  <label>Date de l'examen</label>
  <input id="examDate" type="date">

  <label>Ton √©tat avant l'examen</label>
  <select id="mentalState">
    <option value="">-- S√©lectionne --</option>
    <option value="stressed">üò∞ Tr√®s stress√©</option>
    <option value="normal">üòê Normal</option>
    <option value="confident">üòå Confiant</option>
  </select>

  <button onclick="generatePlan()">G√©n√©rer mon planning personnalis√©</button>

  <div id="output" class="result"></div>
</div>

<script>
function generatePlan() {
  const subjects = document.getElementById("subjects").value;
  const examDate = document.getElementById("examDate").value;
  const mentalState = document.getElementById("mentalState").value;
  const output = document.getElementById("output");

  if (!subjects || !examDate || !mentalState) {
    output.innerText = "‚ùå Merci de remplir tous les champs.";
    return;
  }

  const today = new Date();
  const exam = new Date(examDate);
  const diffTime = exam - today;
  const daysLeft = Math.ceil(diffTime / (1000 * 60 * 60 * 24));

  if (daysLeft <= 0) {
    output.innerText = "‚ùå La date de l'examen doit √™tre dans le futur.";
    return;
  }

  const subjectList = subjects.split(",");
  let message = "";
  let hoursPerDay = 2;

  if (mentalState === "stressed") {
    message = "üß† Tu es stress√©. Le planning est all√©g√© pour √©viter la surcharge.";
    hoursPerDay = 1.5;
  } else if (mentalState === "normal") {
    message = "üß† Ton √©tat est normal. Planning √©quilibr√©.";
    hoursPerDay = 2;
  } else {
    message = "üß† Tu te sens confiant. Planning plus intense.";
    hoursPerDay = 2.5;
  }

  let plan = `üìÖ Jours avant l'examen : ${daysLeft} jours\n\n`;
  plan += message + "\n\n";
  plan += "üìò PLANNING DES PROCHAINS JOURS\n\n";

  const daysToShow = Math.min(daysLeft, 5);

  for (let i = 1; i <= daysToShow; i++) {
    plan += `Jour ${i} :\n`;
    subjectList.forEach(subject => {
      plan += `- ${subject.trim()} : ${hoursPerDay}h\n`;
    });
    plan += "Pause obligatoire + r√©vision l√©g√®re le soir\n\n";
  }

  plan += "üí° CONSEILS FINALS\n";
  plan += "- Dormir au moins 7h\n";
  plan += "- R√©viser sans t√©l√©phone\n";
  plan += "- Respirer profond√©ment avant chaque session\n";

  output.innerText = plan;
}
</script>

</body>
</html>
